{% extends "coffee/base.html" %}
{% block content %}
<p>Available coffee:</p>
<ul>
    {% for bag in bags %}
    <li><a href="{{ bag.get_absolute_url }}">{{ bag.coffee.name }} {{ bag.get_weight_display }} ({{ bag.coffee.roaster.name }})</a></li>
    {% endfor %}
</ul>

<p><a href="{% url 'brew-create' %}">Add brew</a></p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Date &amp; time</th>
            <th>Coffee</th>
            <th>Method</th>
            <th class="hidden-xs hidden-sm">t &deg;C</th>
            <th class="hidden-xs hidden-sm">Grinder</th>
            <th class="hidden-xs hidden-sm hidden-md">Water</th>
            <th class="hidden-xs hidden-sm">Coffee weight</th>
            <th>Rating</th>
        </tr>
    </thead>
    <tbody>
        {% for brew in brews %}
        <tr>
            <td><a href="{{ brew.get_absolute_url }}">{{ brew.datetime }}</a></td>
            <td><a href="{{ brew.coffee_bag.get_absolute_url }}">{{ brew.coffee_bag.coffee }}</a></td>
            <td><a href="{{ brew.method.get_absolute_url }}">{{ brew.method }}</a></td>
            <td class="hidden-xs hidden-sm">{{ brew.temperature }}</td>
            <td class="hidden-xs hidden-sm">{{ brew.grinder_setting }}</td>
            <td class="hidden-xs hidden-sm hidden-md">{{ brew.water }}</td>
            <td class="hidden-xs hidden-sm">{{ brew.get_coffee_weight_display }}</td>
            <td {% if brew.rating >= 8 %}class="rating_best"{% endif %}>{{ brew.rating }}/{{ brew.RATING_MAX }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
